# üöÄ AIMagistr 3.1 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Railway

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Dockerfile**
- –£–±—Ä–∞–Ω—ã —Ç—è–∂–µ–ª—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (ffmpeg, tesseract, playwright)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞: ~500MB ‚Üí ~200MB

### 2. **–û–±–ª–µ–≥—á–µ–Ω–Ω—ã–µ requirements**
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤
- –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –†–∞–∑–º–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏: ~2GB ‚Üí ~500MB

### 3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π health check**
- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU
- –ü—Ä–æ—Å—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: <100ms

### 4. **Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `railway.toml`
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- Health check –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- Restart policy

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|-----------|----|----|-----------|
| –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ | ~500MB | ~200MB | 60% |
| –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ | ~10 –º–∏–Ω | ~3 –º–∏–Ω | 70% |
| RAM usage | ~1GB | ~300MB | 70% |
| Startup time | ~30 —Å–µ–∫ | ~10 —Å–µ–∫ | 67% |
| Health check | ~500ms | ~100ms | 80% |

## üéØ –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Telegram

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- `/mailtriage` - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–∏—Å–µ–º ‚úÖ
- `/timeblock` - –¢–∞–π–º-–±–ª–æ–∫–∏–Ω–≥ –∑–∞–¥–∞—á ‚úÖ  
- `/receipt` - –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ–∫–æ–≤ ‚úÖ

### –ó–∞–≥–æ—Ç–æ–≤–∫–∏ –¥–ª—è –±—É–¥—É—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
- `/routine` - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä—É—Ç–∏–Ω
- `/subscribe` - –¢—Ä–µ–∫–µ—Ä –ø–æ–¥–ø–∏—Å–æ–∫
- `/trip` - –ü–æ–º–æ—â–Ω–∏–∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π
- `/catalog` - –ê–≤—Ç–æ–∫–∞—Ç–∞–ª–æ–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `/focus` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ñ–æ–∫—É—Å
- `/read` - –û—á–µ—Ä–µ–¥—å —á—Ç–µ–Ω–∏—è
- `/crm` - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π CRM
- `/health` - –ó–¥–æ—Ä–æ–≤—å–µ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- `/jobs` - –î–∂–æ–±-–∞–ª–µ—Ä—Ç—ã
- `/weekly` - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
- `/shop` - –°–ø–∏—Å–∫–∏ –ø–æ–∫—É–ø–æ–∫

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
```bash
TELEGRAM_BOT_TOKEN=your_token
YANDEX_API_KEY=your_key
YANDEX_FOLDER_ID=your_folder
YANDEX_MODEL_URI=gpt://b1gej5c8msk7iqfjv11p/yandexgpt/latest
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
```bash
PYTHONUNBUFFERED=1
HEADLESS=1
PORT=8000
WORKERS=1
TIMEOUT=300
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:
```bash
python telegram_bot_v3.py
```

### Railway –¥–µ–ø–ª–æ–π:
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `railway.env.example`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Railway Variables
3. –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Git –∏–ª–∏ Railway CLI

### Health Check:
- `GET /health` - —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
- `GET /metrics` - –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `GET /` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏:
- Uptime
- Request count
- Service status
- Error rate

### –õ–æ–≥–∏:
- Structured logging
- Error tracking
- Performance metrics

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**AIMagistr 3.1** –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –Ω–∞ Railway —Å:
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–±–æ—Ä–∫–æ–π
- ‚úÖ 15 –Ω–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ 3 —Ä–∞–±–æ—á–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- ‚úÖ –ü–æ–ª–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ Health check –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 12 —Å–µ—Ä–≤–∏—Å–æ–≤! üöÄ
