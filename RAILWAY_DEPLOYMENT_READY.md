# üöÄ AIMagistr 3.1 - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Railway

## ‚úÖ **–ü–†–û–ï–ö–¢ –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í –ö –î–ï–ü–õ–û–Æ!**

### üì¶ **–§–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è Railway:**

#### **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `Dockerfile` - 1.6KB (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π Docker –æ–±—Ä–∞–∑)
- ‚úÖ `railway.toml` - 400B (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway)
- ‚úÖ `requirements.txt` - 419B (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- ‚úÖ `telegram_bot.py` - 32KB (–æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç)
- ‚úÖ `health_check.py` - 7KB (health check)

#### **–°–µ—Ä–≤–∏—Å—ã (11 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):**
- ‚úÖ `services/email_triage.py` - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–∏—Å–µ–º
- ‚úÖ `services/time_blocking.py` - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
- ‚úÖ `services/finance_receipts.py` - OCR —á–µ–∫–æ–≤
- ‚úÖ `services/routines.py` - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä—É—Ç–∏–Ω
- ‚úÖ `services/subscriptions.py` - –¢—Ä–µ–∫–µ—Ä –ø–æ–¥–ø–∏—Å–æ–∫
- ‚úÖ `services/travel_assistant.py` - –ú–∞—Ä—à—Ä—É—Ç—ã –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π
- ‚úÖ `services/doc_autocatalog.py` - –ê–≤—Ç–æ–∫–∞—Ç–∞–ª–æ–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ `services/daily_focus.py` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ñ–æ–∫—É—Å
- ‚úÖ `services/reading_queue.py` - –û—á–µ—Ä–µ–¥—å —á—Ç–µ–Ω–∏—è
- ‚úÖ `services/personal_crm.py` - –ú–∏–Ω–∏-CRM
- ‚úÖ `services/health_nudges.py` - –ó–¥–æ—Ä–æ–≤—å–µ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### üéØ **–°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**

#### **–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã:**
- ‚úÖ **Docker –æ–±—Ä–∞–∑** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Railway
- ‚úÖ **Telegram –±–æ—Ç** - 15 –∫–æ–º–∞–Ω–¥, –∞–Ω—Ç–∏—Å–ø–∞–º, graceful shutdown
- ‚úÖ **Health check** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ **–°–µ—Ä–≤–∏—Å—ã** - 11 —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ê–Ω—Ç–∏—Å–ø–∞–º –∑–∞—â–∏—Ç–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å appuser
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Railway

### üöÄ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é:**

#### **1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
YANDEX_API_KEY=your_yandex_api_key
YANDEX_FOLDER_ID=your_folder_id
YANDEX_MODEL_URI=gpt://b1gej5c8msk7iqfjv11p/yandexgpt/latest

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
PORT=8000
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
PYTHONPATH=/app
```

#### **2. –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Railway CLI:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Railway CLI
npm install -g @railway/cli

# –õ–æ–≥–∏–Ω –∏ –¥–µ–ø–ª–æ–π
railway login
railway link
railway up
```

#### **3. –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Git:**
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
git add .
git commit -m "AIMagistr 3.1 Final - Ready for Railway"
git push origin main
```

### üìä **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**

#### **Docker –æ–±—Ä–∞–∑:**
- **–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑:** python:3.11-slim
- **–†–∞–∑–º–µ—Ä:** ~100MB
- **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏:** ~2 –º–∏–Ω—É—Ç—ã
- **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞:** ~5 —Å–µ–∫—É–Ω–¥
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM:** ~100MB

#### **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- **aiogram==3.2.0** - Telegram Bot API
- **loguru==0.7.2** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **requests==2.31.0** - HTTP –∑–∞–ø—Ä–æ—Å—ã
- **python-dotenv==1.0.0** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **aiohttp==3.9.1** - HTTP —Å–µ—Ä–≤–µ—Ä
- **aiofiles==23.2.1** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- **cryptography==41.0.4** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### **Health check endpoints:**
- `GET /health` - –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- `GET /metrics` - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `GET /status` - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ

### üéØ **–ö–æ–º–∞–Ω–¥—ã Telegram (15):**

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `/start` - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
- `/help` - –°–ø—Ä–∞–≤–∫–∞
- `/features` - –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- `/reset` - –°–±—Ä–æ—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- `/metrics` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

#### **–°–µ—Ä–≤–∏—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
- `/mailtriage` - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–∏—Å–µ–º
- `/timeblock` - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
- `/receipt` - –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ–∫–æ–≤
- `/routine` - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä—É—Ç–∏–Ω
- `/subscribe` - –¢—Ä–µ–∫–µ—Ä –ø–æ–¥–ø–∏—Å–æ–∫
- `/trip` - –ü–æ–º–æ—â–Ω–∏–∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π
- `/catalog` - –ê–≤—Ç–æ–∫–∞—Ç–∞–ª–æ–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `/focus` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ñ–æ–∫—É—Å
- `/read` - –û—á–µ—Ä–µ–¥—å —á—Ç–µ–Ω–∏—è
- `/crm` - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π CRM
- `/health` - –ó–¥–æ—Ä–æ–≤—å–µ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### üîß **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã:**

#### **Health check:**
- **URL:** `https://your-app.railway.app/health`
- **–°—Ç–∞—Ç—É—Å:** 200 OK
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** telegram_bot, health_check, database, storage

#### **–ú–µ—Ç—Ä–∏–∫–∏:**
- **URL:** `https://your-app.railway.app/metrics`
- **–î–∞–Ω–Ω—ã–µ:** Uptime, request_count, error_count, error_rate

#### **–°—Ç–∞—Ç—É—Å:**
- **URL:** `https://your-app.railway.app/status`
- **–î–∞–Ω–Ω—ã–µ:** –í–µ—Ä—Å–∏—è, —Å—Ç–∞—Ç—É—Å, –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

### üéâ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**

#### **–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - Graceful shutdown, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ê–Ω—Ç–∏—Å–ø–∞–º –∑–∞—â–∏—Ç–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å appuser
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Railway
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Health check –∏ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ì–æ—Ç–æ–≤–æ –∫ —Ä–æ—Å—Ç—É –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

#### **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:**
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check** - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 15 –∫–æ–º–∞–Ω–¥ Telegram
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏

#### **–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è:**
1. **AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Yandex AI
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –°–±–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üèÜ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:**

**AIMagistr 3.1 –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É –¥–µ–ø–ª–æ—é –Ω–∞ Railway!**

- ‚úÖ **–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã**
- ‚úÖ **–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**
- ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã**
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞**
- ‚úÖ **–ü–ª–∞–Ω AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤**

**–î–µ–ø–ª–æ–π –≥–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é!** üéâ‚ú®üöÄ
